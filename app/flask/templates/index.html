{% extends 'base.html' %}

{% block content %}
<select name="district" aria-label="Select your district..." required>
  <option selected disabled value="">
    Select your district...
  </option>
  {% for district in district_names %}
    <option>{{ district }}</option>
  {% endfor %}
</select>
<div><label for=""></label></div>
<div class="grid">
  <label for="loan-amount">
    Loan Amount
    <input 
      type="text" 
      id="loan-amount" 
      name="loan-amount" 
      placeholder="10000",
      onChange="check_numeric(this)"
      aria-describedby="loan-amount-helper"
    >
    <small id="loan-amount-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
  <label for="loan-duration">
    Loan Duration (Years)
    <input 
      type="text" 
      id="loan-duration" 
      name="loan-duration" 
      placeholder="10",
      onChange="check_numeric(this)"
      aria-describedby="loan-duration-helper"
    >
    <small id="loan-duration-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
  <label for="loan-payments">
    Loan Payments
    <input 
      type="text" 
      id="loan-payments" 
      name="loan-payments" 
      placeholder="1000",
      onChange="check_numeric(this)"
      aria-describedby="loan-payments-helper"
    >
    <small id="loan-payments-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
</div>
<div class="grid">
  <label for="balance">
    Balance
    <input 
      type="text" 
      id="balance" 
      name="balance" 
      placeholder="5000",
      onChange="check_numeric(this)"
      aria-describedby="balance-helper"
    >
    <small id="balance-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
  <label for="daily-transactions">
    Number of Daily Transactions
    <input 
      type="text" 
      id="daily-transactions" 
      name="daily-transactions" 
      placeholder="2",
      onChange="check_numeric(this)"
      aria-describedby="daily-transactions-helper"
    >
    <small>Based on past 3 months</small>
    <small id="daily-transactions-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
  <label for="transactions-amount">
    Latest Transaction Amount
    <input 
      type="text" 
      id="transaction-amount" 
      name="transaction-amount" 
      placeholder="200",
      onChange="check_numeric(this)"
      aria-describedby="transaction-amount-helper"
    >
    <small id="transaction-amount-helper" style="visibility:hidden">Please provide numeric value</small>
  </label>
</div>
<div class="grid">
  <div></div>
  <button>Predict loan status!</button>
  <div></div>
</div>
{% endblock %}

{% block script %}
  function check_numeric(element) {
    var is_val_numeric = isNaN(element.value)? true : false;
    var visibility = isNaN(element.value)? "visible" : "hidden";
    element.setAttribute("aria-invalid", is_val_numeric);
    document.getElementById(element.id + "-helper").style.visibility = visibility;
  }
{% endblock %}