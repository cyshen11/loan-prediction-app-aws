{% extends 'base.html' %}

{% block content %}
<form method="post" id="loan-form">
  {{ form.csrf_token }}
  {{ form.district.label }}{{ form.district() }}
  {{ form.balance.label }}{{ form.balance() }}
  <br>
  <br>
  <div class="grid">
    {{ form.loan_amount.label }}{{ form.loan_amount() }}
    {{ form.loan_duration.label }}{{ form.loan_duration() }}
  </div>
  <br>
  <br>
  <div class="grid">
    {{ form.loan_payments.label }}{{ form.loan_payments() }}
    {{ form.last_transaction_date.label }}{{ form.last_transaction_date() }}
  </div>
  <br>
  <br>
  <div class="grid">

    {{ form.last_transaction_amount.label }}{{ form.last_transaction_amount() }}
    {{ form.daily_transactions.label }}{{ form.daily_transactions() }}
  </div>
  <br>
  <br>
  <div class="grid">
    <div></div>
    <button data-target="modal">Predict loan status!</button>
    <div></div>
  </div>
</form>
{% if show_modal %}
<dialog id="modal" open>
  <article>
    <header>
      <button id="close-dialog" aria-label="Close" rel="prev"></button>
      <h2>{{ loan_status }}</h2>
    </header>
    <p>
    </p>
    <ul>
      <li>Date: Saturday, April 15</li>
      <li>Time: 10:00am - 12:00pm</li>
    </ul>
  </article>
</dialog>
{% endif %}

{% endblock %}

{% block script %}
  <script type="text/javascript">
    const closeDialogButton = document.getElementById('close-dialog')
    closeDialogButton.addEventListener("click", () => {
      document.getElementById("modal").close();
    })
  </script>
{% endblock %}